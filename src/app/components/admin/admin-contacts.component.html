<div class="admin-section">
  <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏</h2>
  
  <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞
  <div class="storage-mode" style="margin-bottom: 20px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
    <span style="padding: 4px 8px; border-radius: 4px; background: #3ecf8e; color: white; font-size: 12px; font-weight: 600;">
      {{ contactService.getStorageMode() === 'supabase' ? 'Supabase (—Ç–æ–ª—å–∫–æ –æ–Ω–ª–∞–π–Ω)' : '–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ' }}
    </span>
    
    @if (hasUnsavedChanges) {
      <span style="color: #ff9800; font-size: 12px; margin-left: 10px;">
        ‚óè –ï—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </span>
    }
  </div> -->
  
  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ -->
  @if (saveStatus === 'success') {
    <div class="alert alert-success">
      {{ saveMessage }}
    </div>
  }
  
  @if (saveStatus === 'error') {
    <div class="alert alert-error">
      {{ saveMessage }}
    </div>
  }
  
  @if (saveStatus === 'loading') {
    <div class="loading-indicator">
      <div class="spinner"></div>
      <span>{{ saveMessage }}</span>
    </div>
  }
  
  <form (ngSubmit)="saveContacts()">
    <div class="form-group">
      <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
      <input [(ngModel)]="contacts.phone" name="phone" class="form-control">
    </div>
    
    <div class="form-group">
      <label>Email:</label>
      <input [(ngModel)]="contacts.email" name="email" class="form-control">
    </div>
    
    <div class="form-group">
      <label>–ê–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞:</label>
      <textarea [(ngModel)]="contacts.office" name="office" class="form-control" rows="3"></textarea>
    </div>
    
    <div class="form-group">
      <label>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</label>
      <input [(ngModel)]="contacts.workingHours" name="workingHours" class="form-control">
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π -->
    <!-- <div style="margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap;">
      <button type="button" 
              (click)="syncWithSupabase()" 
              class="btn btn-secondary"
              [disabled]="isRefreshing || isSaving">
        @if (isRefreshing) {
          ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...
        } @else {
          üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
        }
      </button>
      
      <button type="button" 
              (click)="testConnection()" 
              class="btn btn-outline"
              style="background: white; border: 1px solid #6c757d; color: #6c757d;">
        –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
      </button>
    </div> -->
    
    <h3>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h3>
    
    <!-- –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º track –ø–æ –∏–Ω–¥–µ–∫—Å—É -->
    @for (social of contacts.social; track socialTrackBy(i, social); let i = $index) {
      <div class="social-item">
        <div class="row">
          <div class="col">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input 
              [(ngModel)]="social.name" 
              [name]="'social-name-' + i" 
              class="form-control" 
              placeholder="Instagram, Facebook, VK...">
          </div>
          <div class="col">
            <label>–ò–∫–æ–Ω–∫–∞</label>
            <input 
              [(ngModel)]="social.icon" 
              [name]="'social-icon-' + i" 
              class="form-control" 
              placeholder="IN, FB, VK...">
          </div>
          <div class="col">
            <label>–°—Å—ã–ª–∫–∞</label>
            <input 
              [(ngModel)]="social.url" 
              [name]="'social-url-' + i" 
              class="form-control" 
              placeholder="https://...">
          </div>
          <div class="col-auto">
            <label>&nbsp;</label>
            <button type="button" (click)="removeSocial(i)" class="btn btn-danger btn-sm">
              √ó
            </button>
          </div>
        </div>
      </div>
    }
    
    <button type="button" (click)="addSocial()" class="btn btn-secondary" style="margin-top: 15px;">
      + –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ü—Å–µ—Ç—å
    </button>
    
    <div class="form-actions">
      <button type="submit" 
              class="btn btn-success" 
              [disabled]="isSaving">
        @if (!isSaving) {
          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã
        } @else {
          –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...
        }
      </button>
      
      @if (hasUnsavedChanges) {
        <button type="button" 
                (click)="cancelChanges()" 
                class="btn"
                style="background: white; border: 1px solid #6c757d; color: #6c757d;">
          –û—Ç–º–µ–Ω–∏—Ç—å
        </button>
      }
    </div>
  </form>
</div>