<!-- about.component.html -->
<div class="about-komfort">
  <!-- Секция "О компании" -->
  <section class="about-section">
    <div class="container">
      <h1 class="section-title">О КОМПАНИИ</h1>
      
      @if (isLoading) {
        <div class="loading-placeholder">
          <div class="spinner"></div>
          <p>Загрузка информации о компании...</p>
        </div>
      } @else if (hasError) {
        <div class="error-placeholder">
          <p>Не удалось загрузить информацию о компании</p>
          <button (click)="retryLoad()" class="retry-btn">
            Попробовать снова
          </button>
        </div>
      } @else {
        <div class="about-content">
          @if (aboutSections && aboutSections.length > 0) {
            @for (section of aboutSections; track section.title; let i = $index) {
              @if (section.title && section.content) {
                <div class="about-card">
                  <h2>{{ section.title }}</h2>
                  <div class="divider"></div>
                  <p>{{ section.content }}</p>
                </div>
              }
            }
          } @else {
            <div class="no-data-placeholder">
              <p>Информация о компании временно недоступна</p>
            </div>
          }
        </div>
      }
    </div>
  </section>

  <!-- Секция "Схема проезда" -->
  <section class="map-section">
    <div class="container">
      <div class="map-wrapper">
        <div class="map-info">
          <h1 class="section-title">СХЕМА ПРОЕЗДА</h1>
          
          <div class="address-card">
            <div class="address-header">
              <h3>Адрес склада:</h3>
              <button class="print-btn" (click)="printMap()">распечатать схему проезда</button>
            </div>
            
            @if (location.address) {
              <p class="address">{{ location.address }}</p>
              
              @if (location.workHours) {
                <div class="work-hours">
                  <h3>График работы склада:</h3>
                  <p>{{ location.workHours }}</p>
                </div>
              }
            } @else if (isLoading) {
              <p class="address">Загрузка адреса...</p>
            } @else {
              <p class="address">Адрес не указан</p>
            }
            
            <div class="map-preview">
              <div id="yandex-map" class="map-container"></div>
              
              <div class="map-legend">
                <div class="legend-item">
                  <span class="legend-dot car"></span>
                  <span>На машине</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot taxi"></span>
                  <span>На такси</span>
                </div>
              </div>
            </div>
            
            @if (location.mapUrl) {
              <button class="open-map-btn" (click)="openMap()">
                Открыть в Яндекс.Картах
              </button>
            }
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<app-contacts></app-contacts>