<!-- –°–µ–∫—Ü–∏—è "–ö–æ–Ω—Ç–∞–∫—Ç—ã" -->
<section id="contacts" class="contacts-section">
  <div class="container">
    <h1 class="section-title">–ö–û–ù–¢–ê–ö–¢–´</h1>
    <p class="contacts-description">
      –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É, –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –∏ –≤—ã—à–ª–µ–º –ø—Ä–∞–π—Å-–ª–∏—Å—Ç.
    </p>
    
    <div class="contacts-wrapper">
      <div class="contacts-info">
        <div class="contact-item" (click)="callPhone()">
          <span class="contact-icon">üìû</span>
          <div>
            <h3>–¢–µ–ª–µ—Ñ–æ–Ω</h3>
            <p class="contact-value">{{ contacts.phone }}</p>
          </div>
        </div>
        
        <div class="contact-item" (click)="sendEmail()">
          <span class="contact-icon">‚úâÔ∏è</span>
          <div>
            <h3>Email</h3>
            <p class="contact-value">{{ contacts.email }}</p>
          </div>
        </div>
        
        <div class="contact-item">
          <span class="contact-icon">üè¢</span>
          <div>
            <h3>–û—Ñ–∏—Å –ø—Ä–æ–¥–∞–∂</h3>
            <p class="contact-value">{{ contacts.office }}</p>
          </div>
        </div>
        
        <div class="social-links">
          <h3>–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö:</h3>
          <div class="social-icons">
            @for (social of contacts.social; track social.url) {
              <a [href]="social.url" 
                 class="social-link"
                 target="_blank">
                {{ social.icon }}
              </a>
            }
          </div>
        </div>
      </div>
      
      <div class="contact-form">
        <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É, –µ—Å–ª–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
        @if (!isSubmitted && !isLoading) {
          <form (ngSubmit)="onSubmit()">
            
            <!-- –ü–æ–ª–µ –∏–º–µ–Ω–∏ -->
            <div class="form-group">
              <label>–í–∞—à–µ –∏–º—è *</label>
              <input type="text" 
                     [(ngModel)]="contactForm.name" 
                     name="name"
                     class="form-input"
                     placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
                     required>
            </div>
            
            <!-- –ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
            <div class="form-group">
              <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
              <input type="tel" 
                     [(ngModel)]="contactForm.phone" 
                     name="phone"
                     class="form-input"
                     placeholder="+7 (999) 123-45-67"
                     required>
            </div>
            
            <!-- –ß–µ–∫–±–æ–∫—Å —Å–æ–≥–ª–∞—Å–∏—è -->
            <div class="checkbox-group">
              <input type="checkbox" 
                     id="agree" 
                     [(ngModel)]="contactForm.agree" 
                     name="agree"
                     required>
              <label for="agree">
                –°–æ–≥–ª–∞—Å–µ–Ω(-–∞) —Å 
                <a href="/privacy-policy" target="_blank">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
              </label>
            </div>
            
            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
            @if (errorMessage) {
              <div class="error-message">
                {{ errorMessage }}
              </div>
            }
            
            <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
            <button type="submit" class="submit-btn" [disabled]="isLoading">
              –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
            </button>
          </form>
        }
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
        @if (isLoading) {
          <div class="loading-indicator">
            <div class="spinner"></div>
            <p>–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏...</p>
          </div>
        }
        
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ -->
        @if (isSubmitted && !isLoading) {
          <div class="success-message">
            <div class="success-icon">‚úì</div>
            <h3>–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É!</h3>
            <p>–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
            <p class="success-hint">–§–æ—Ä–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥</p>
          </div>
        }
      </div>
    </div>
  </div>
</section>