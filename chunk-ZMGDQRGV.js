import{a as z}from"./chunk-KA5P7F47.js";import{a as W,b as L}from"./chunk-EC6GASFG.js";import{c as j,d as N,g as U,o as R}from"./chunk-U5LUORXQ.js";import{$a as M,Ja as A,Jb as D,Q as P,V as u,Va as x,W as c,Wa as b,Za as O,_a as v,_b as F,a as w,ab as a,b as k,bb as l,cb as T,gb as h,ib as g,kb as r,mb as V,nb as I,ob as H,qb as y,sb as s,tb as B,ua as S,wa as m,wb as _,xb as C,yb as f}from"./chunk-TFJ7GAPU.js";var Q=["fileInput"],q=(d,n)=>n.image,G=(d,n)=>n.title;function J(d,n){if(d&1){let e=h();a(0,"div",18)(1,"img",26),g("error",function(){u(e);let t=r(2);return c(t.clearNewSlideImage())}),l(),a(2,"button",27),g("click",function(){u(e);let t=r(2);return c(t.clearNewSlideImage())}),s(3," \u2715 \u0423\u0434\u0430\u043B\u0438\u0442\u044C "),l()()}if(d&2){let e=r(2);m(),M("src",e.newSlide.image,S)}}function K(d,n){d&1&&(a(0,"div",25)(1,"div",28),s(2,"\u{1F4F7}"),l(),a(3,"h3"),s(4,"\u0421\u043B\u0430\u0439\u0434\u044B \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"),l(),a(5,"p"),s(6,"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043F\u0435\u0440\u0432\u044B\u0439 \u0441\u043B\u0430\u0439\u0434, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u0447\u0430\u0442\u044C"),l()())}function X(d,n){if(d&1){let e=h();a(0,"div",29)(1,"div",30)(2,"img",31),g("error",function(t){u(e);let o=r(3);return c(o.handleImageError(t))}),l()(),a(3,"div",32)(4,"input",33),f("ngModelChange",function(t){let o=u(e).$implicit;return C(o.title,t)||(o.title=t),c(t)}),l(),a(5,"textarea",34),f("ngModelChange",function(t){let o=u(e).$implicit;return C(o.description,t)||(o.description=t),c(t)}),l(),a(6,"input",14),f("ngModelChange",function(t){let o=u(e).$implicit;return C(o.image,t)||(o.image=t),c(t)}),l()(),a(7,"div",35)(8,"button",36),g("click",function(){let t=u(e).$index,o=r(3);return c(o.moveSlideUp(t))}),s(9," \u2191 \u0412\u0432\u0435\u0440\u0445 "),l(),a(10,"button",37),g("click",function(){let t=u(e).$index,o=r(3);return c(o.moveSlideDown(t))}),s(11," \u2193 \u0412\u043D\u0438\u0437 "),l(),a(12,"button",38),g("click",function(){let t=u(e).$index,o=r(3);return c(o.openEditSlideModal(t))}),s(13," \u270E \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "),l(),a(14,"button",39),g("click",function(){let t=u(e).$index,o=r(3);return c(o.removeSlide(t))}),s(15," \u2715 \u0423\u0434\u0430\u043B\u0438\u0442\u044C "),l()()()}if(d&2){let e=n.$implicit,i=n.$index,t=r(3);m(2),M("src",e.image,S),m(2),_("ngModel",e.title),m(),_("ngModel",e.description),m(),_("ngModel",e.image),m(2),M("disabled",i===0),m(2),M("disabled",i===t.slides.length-1)}}function Y(d,n){if(d&1&&O(0,X,16,6,"div",29,q),d&2){let e=r(2);v(e.slides)}}function Z(d,n){if(d&1){let e=h();a(0,"div",4)(1,"div",9)(2,"h3"),s(3,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u0430\u043C\u0438"),l(),a(4,"div",10)(5,"label"),s(6,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0441\u043B\u0430\u0439\u0434:"),l(),a(7,"div",11)(8,"div",12)(9,"div",13)(10,"input",14),f("ngModelChange",function(t){u(e);let o=r();return C(o.newSlide.image,t)||(o.newSlide.image=t),c(t)}),l(),a(11,"span",15),s(12,"\u0438\u043B\u0438"),l(),a(13,"button",16),g("click",function(){u(e);let t=r();return c(t.openFilePickerForNewSlide())}),s(14," \u{1F4C1} \u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u0430\u0439\u043B "),l()(),a(15,"input",17,0),g("change",function(t){u(e);let o=r();return c(o.onFileSelectedForNewSlide(t))}),l(),x(17,J,4,1,"div",18),l(),a(18,"input",19),f("ngModelChange",function(t){u(e);let o=r();return C(o.newSlide.title,t)||(o.newSlide.title=t),c(t)}),l(),a(19,"textarea",20),f("ngModelChange",function(t){u(e);let o=r();return C(o.newSlide.description,t)||(o.newSlide.description=t),c(t)}),l(),a(20,"button",21),g("click",function(){u(e);let t=r();return c(t.addSlide())}),s(21," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u043B\u0430\u0439\u0434 "),l()()(),a(22,"div",22)(23,"div",23)(24,"h4"),s(25,"\u0422\u0435\u043A\u0443\u0449\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u044B"),l(),a(26,"div",24),s(27," \u0412\u0441\u0435\u0433\u043E \u0441\u043B\u0430\u0439\u0434\u043E\u0432: "),a(28,"strong"),s(29),l()()(),x(30,K,7,0,"div",25)(31,Y,2,0),l()()()}if(d&2){let e=r();m(10),_("ngModel",e.newSlide.image),m(7),b(e.newSlide.image&&e.isImageUrl(e.newSlide.image)?17:-1),m(),_("ngModel",e.newSlide.title),m(),_("ngModel",e.newSlide.description),m(),M("disabled",!e.newSlide.image),m(9),B(e.slides.length),m(),b(e.slides.length===0?30:31)}}function ee(d,n){if(d&1){let e=h();a(0,"div",46)(1,"button",47),g("click",function(){u(e);let t=r().$index,o=r(2);return c(o.removeAboutSection(t))}),s(2,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0440\u0430\u0437\u0434\u0435\u043B"),l()()}}function te(d,n){if(d&1){let e=h();a(0,"div",41)(1,"div",43)(2,"input",44),f("ngModelChange",function(t){let o=u(e).$implicit;return C(o.title,t)||(o.title=t),c(t)}),l(),a(3,"textarea",45),f("ngModelChange",function(t){let o=u(e).$implicit;return C(o.content,t)||(o.content=t),c(t)}),l()(),x(4,ee,3,0,"div",46),l()}if(d&2){let e=n.$implicit,i=r(2);m(2),_("ngModel",e.title),m(),_("ngModel",e.content),m(),b(i.aboutSections.length>1?4:-1)}}function ne(d,n){if(d&1){let e=h();a(0,"div",5)(1,"div",9)(2,"h3"),s(3,'\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 "\u041E \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438"'),l(),a(4,"div",40),O(5,te,5,3,"div",41,G),a(7,"button",42),g("click",function(){u(e);let t=r();return c(t.addAboutSection())}),s(8," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0430\u0437\u0434\u0435\u043B"),l()()()()}if(d&2){let e=r();m(5),v(e.aboutSections)}}function ie(d,n){if(d&1&&(a(0,"div",18),T(1,"img",55),l()),d&2){let e=r(2);m(),M("src",e.editingSlide.image,S)}}function oe(d,n){if(d&1){let e=h();a(0,"div",48),g("click",function(){u(e);let t=r();return c(t.closeEditModal())}),a(1,"div",49),g("click",function(t){return u(e),c(t.stopPropagation())}),a(2,"div",50)(3,"h3"),s(4,"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u0430"),l(),a(5,"button",51),g("click",function(){u(e);let t=r();return c(t.closeEditModal())}),s(6,"\xD7"),l()(),a(7,"div",52)(8,"div",10)(9,"label"),s(10,"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435:"),l(),a(11,"div",12)(12,"div",13)(13,"input",14),f("ngModelChange",function(t){u(e);let o=r();return C(o.editingSlide.image,t)||(o.editingSlide.image=t),c(t)}),l(),a(14,"button",16),g("click",function(){u(e);let t=r();return c(t.changeImageForEditingSlide())}),s(15," \u{1F4C1} \u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u0430\u0439\u043B "),l()(),x(16,ie,2,1,"div",18),l()(),a(17,"div",10)(18,"label"),s(19,"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A:"),l(),a(20,"input",33),f("ngModelChange",function(t){u(e);let o=r();return C(o.editingSlide.title,t)||(o.editingSlide.title=t),c(t)}),l()(),a(21,"div",10)(22,"label"),s(23,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),l(),a(24,"textarea",53),f("ngModelChange",function(t){u(e);let o=r();return C(o.editingSlide.description,t)||(o.editingSlide.description=t),c(t)}),l()()(),a(25,"div",54)(26,"button",42),g("click",function(){u(e);let t=r();return c(t.closeEditModal())}),s(27,"\u041E\u0442\u043C\u0435\u043D\u0430"),l(),a(28,"button",7),g("click",function(){u(e);let t=r();return c(t.saveEditedSlide())}),s(29,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),l()()()()}if(d&2){let e=r();m(13),_("ngModel",e.editingSlide.image),m(3),b(e.editingSlide.image&&e.isImageUrl(e.editingSlide.image)?16:-1),m(4),_("ngModel",e.editingSlide.title),m(4),_("ngModel",e.editingSlide.description)}}var $=class d{settings;companyInfo;slides=[];allCategories=[];editingSlideIndex=null;editingSlide=null;isEditModalOpen=!1;homeService=P(z);catalogService=P(L);storageService=P(W);cdr=P(D);newSlide={image:"",title:"",description:""};aboutSections=[{title:"",content:""},{title:"",content:""},{title:"",content:""}];activeTab="slides";fileInput;fileInputsMap=new Map;constructor(){}ngOnInit(){this.loadData()}switchTab(n){this.activeTab=n}openEditSlideModal(n){this.editingSlideIndex=n,this.editingSlide=w({},this.slides[n]),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editingSlideIndex=null,this.editingSlide=null}saveEditedSlide(){this.editingSlideIndex!==null&&this.editingSlide&&(this.slides[this.editingSlideIndex]=w({},this.editingSlide),this.closeEditModal(),alert("\u0421\u043B\u0430\u0439\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D!"))}changeImageForEditingSlide(){let n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=e=>{let i=e.target;if(i.files&&i.files[0]&&this.editingSlide){let t=i.files[0],o=new FileReader;o.onload=p=>{this.editingSlide&&(this.editingSlide.image=p.target?.result)},o.readAsDataURL(t)}},n.click()}loadData(){this.settings=w({},this.homeService.getSettings()),this.slides=this.homeService.getSlides(),this.companyInfo=this.homeService.getCompanyInfo(),this.allCategories=this.catalogService.getCategories(),this.companyInfo.aboutSections&&(this.aboutSections=[...this.companyInfo.aboutSections])}handleImageError(n){let e=n.target;e.src="assets/default-slide.jpg"}addSlide(){this.newSlide.image.trim()&&(this.slides.push(w({},this.newSlide)),this.newSlide={image:"",title:"",description:""})}openFilePickerForNewSlide(){this.fileInput?.nativeElement&&this.fileInput.nativeElement.click()}onFileSelectedForNewSlide(n){let e=n.target;if(e.files&&e.files[0]){let i=e.files[0],t=new FileReader;t.onload=o=>{this.newSlide.image=o.target?.result},t.readAsDataURL(i),e.value=""}}changeSlideImage(n){if(!this.fileInputsMap.has(n)){let i=document.createElement("input");i.type="file",i.accept="image/*",i.style.display="none",i.onchange=t=>this.onSlideFileSelected(n,t),document.body.appendChild(i),this.fileInputsMap.set(n,i)}let e=this.fileInputsMap.get(n);e&&e.click()}onSlideFileSelected(n,e){let i=e.target;if(i.files&&i.files[0]){let t=i.files[0],o=new FileReader;o.onload=p=>{this.slides[n].image=p.target?.result},o.readAsDataURL(t),i.value=""}}changeSlide(n,e){if(e){let i=e.target;if(i.files&&i.files[0]){let t=i.files[0],o=new FileReader;o.onload=p=>{this.slides[n].image=p.target?.result},o.readAsDataURL(t),i.value=""}}else this.changeSlideImage(n)}isImageUrl(n){return n?n.startsWith("http")||n.startsWith("data:image")||n.startsWith("/")||n.startsWith("./")||n.startsWith("../"):!1}clearNewSlideImage(){this.newSlide.image=""}removeSlide(n){if(confirm("\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u0441\u043B\u0430\u0439\u0434?")&&(this.slides.splice(n,1),this.fileInputsMap.has(n))){let e=this.fileInputsMap.get(n);e&&e.parentNode&&e.parentNode.removeChild(e),this.fileInputsMap.delete(n);let i=new Map;this.fileInputsMap.forEach((t,o)=>{o>n?i.set(o-1,t):i.set(o,t)}),this.fileInputsMap=i}}moveSlideUp(n){if(n>0){[this.slides[n],this.slides[n-1]]=[this.slides[n-1],this.slides[n]];let e=this.fileInputsMap.get(n);e&&(this.fileInputsMap.set(n,this.fileInputsMap.get(n-1)||e),this.fileInputsMap.set(n-1,e))}}moveSlideDown(n){if(n<this.slides.length-1){[this.slides[n],this.slides[n+1]]=[this.slides[n+1],this.slides[n]];let e=this.fileInputsMap.get(n);e&&(this.fileInputsMap.set(n,this.fileInputsMap.get(n+1)||e),this.fileInputsMap.set(n+1,e))}}updateAboutSections(){this.companyInfo.aboutSections=[...this.aboutSections]}addAboutSection(){this.aboutSections.push({title:"",content:""})}removeAboutSection(n){this.aboutSections.length>1&&this.aboutSections.splice(n,1)}async saveAllSettings(){try{await this.updateSlidesWithStorage(),this.updateAboutSections(),await this.homeService.updateCompanyInfo(this.companyInfo),await this.homeService.updateSettings(this.settings),this.showNotification("success","\u0412\u0441\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!")}catch(n){console.error("\u274C \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A:",n),this.showNotification("error",`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438: ${n.message}`)}}async updateSlidesWithStorage(){console.log("\u{1F504} \u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u043E\u0432 \u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u043E\u0439 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439 \u0432 Supabase Storage...");let n=[];for(let e=0;e<this.slides.length;e++){let i=this.slides[e],t=i.image;if(i.image&&i.image.startsWith("data:image")){console.log(`\u{1F4E4} \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0441\u043B\u0430\u0439\u0434\u0430 ${e+1} \u0432 Supabase Storage...`);try{let o=`slide-${e+1}-${Date.now()}.jpg`,p=this.base64ToFile(i.image,o);t=await this.storageService.uploadFile(p,"slides","slides"),console.log(`\u2705 \u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u0430 ${e+1} \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E:`,t)}catch(o){console.error(`\u274C \u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u0441\u043B\u0430\u0439\u0434\u0430 ${e+1}:`,o),t="/assets/default-slide.jpg"}}else i.image&&!i.image.includes("supabase.co")&&i.image.startsWith("/assets/")?console.log(`\u{1F4C1} \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0434\u043B\u044F \u0441\u043B\u0430\u0439\u0434\u0430 ${e+1}`):i.image||(t="/assets/default-slide.jpg");n.push(k(w({},i),{image:t,order:e+1}))}await this.homeService.updateSlides(n),console.log(`\u2705 \u0412\u0441\u0435 \u0441\u043B\u0430\u0439\u0434\u044B \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B (${n.length} \u0448\u0442.)`)}base64ToFile(n,e){let i=n.split(","),t=i[0].match(/:(.*?);/)?.[1]||"image/jpeg",o=atob(i[1]),p=o.length,E=new Uint8Array(p);for(;p--;)E[p]=o.charCodeAt(p);return new File([E],e,{type:t})}showNotification(n,e){alert(n==="success"?`\u2705 ${e}`:`\u274C ${e}`)}ngOnDestroy(){this.fileInputsMap.forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)}),this.fileInputsMap.clear()}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=A({type:d,selectors:[["app-admin-home"]],viewQuery:function(e,i){if(e&1&&V(Q,5),e&2){let t;I(t=H())&&(i.fileInput=t.first)}},decls:14,vars:7,consts:[["fileInput",""],[1,"admin-section"],[1,"tabs"],[1,"tab-btn",3,"click"],["id","slides",1,"tab-content","active"],["id","company",1,"tab-content","active"],[1,"form-actions"],[1,"btn","btn-success",3,"click"],[1,"modal-overlay"],[1,"admin-form"],[1,"form-group"],[1,"slide-form"],[1,"image-upload-section"],[1,"image-url-input"],["placeholder","URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"form-control",3,"ngModelChange","ngModel"],[1,"or-text"],["type","button",1,"btn","btn-secondary",3,"click"],["type","file","accept","image/*",1,"file-input-hidden",3,"change"],[1,"image-preview"],["placeholder","\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435","rows","2",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"slides-list"],[1,"section-header"],[1,"slide-counter"],[1,"empty-state"],["alt","\u041F\u0440\u0435\u0432\u044C\u044E",1,"preview-image",3,"error","src"],["type","button",1,"btn","btn-sm","btn-danger","remove-preview",3,"click"],[1,"empty-icon"],[1,"slide-item"],[1,"slide-preview"],["alt","\u041F\u0440\u0435\u0432\u044C\u044E \u0441\u043B\u0430\u0439\u0434\u0430",3,"error","src"],[1,"slide-details"],["placeholder","\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0441\u043B\u0430\u0439\u0434\u0430",1,"form-control",3,"ngModelChange","ngModel"],["rows","2","placeholder","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u0430",1,"form-control",3,"ngModelChange","ngModel"],[1,"slide-actions"],["title","\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u0432\u0435\u0440\u0445",1,"btn","btn-secondary",3,"click","disabled"],["title","\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043D\u0438\u0437",1,"btn","btn-secondary",3,"click","disabled"],["title","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u0430\u0439\u0434",1,"btn","btn-changer",3,"click"],["title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u0430\u0439\u0434",1,"btn","btn-danger",3,"click"],[1,"about-sections"],[1,"about-section-edit"],[1,"btn","btn-secondary",3,"click"],[1,"section-content"],["placeholder","\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0440\u0430\u0437\u0434\u0435\u043B\u0430",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","\u0421\u043E\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0430","rows","4",1,"form-control",3,"ngModelChange","ngModel"],[1,"section-actions"],[1,"btn","btn-danger",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],["rows","3","placeholder","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0441\u043B\u0430\u0439\u0434\u0430",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["alt","\u041F\u0440\u0435\u0432\u044C\u044E",1,"preview-image",3,"src"]],template:function(e,i){e&1&&(a(0,"div",1)(1,"h2"),s(2,"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0433\u043B\u0430\u0432\u043D\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"),l(),a(3,"div",2)(4,"button",3),g("click",function(){return i.switchTab("slides")}),s(5," \u0421\u043B\u0430\u0439\u0434\u044B "),l(),a(6,"button",3),g("click",function(){return i.switchTab("company")}),s(7," \u041E \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 "),l()(),x(8,Z,32,7,"div",4),x(9,ne,9,0,"div",5),a(10,"div",6)(11,"button",7),g("click",function(){return i.saveAllSettings()}),s(12," \u{1F4BE} \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F "),l()()(),x(13,oe,30,4,"div",8)),e&2&&(m(4),y("active",i.activeTab==="slides"),m(2),y("active",i.activeTab==="company"),m(2),b(i.activeTab==="slides"?8:-1),m(),b(i.activeTab==="company"?9:-1),m(4),b(i.isEditModalOpen&&i.editingSlide?13:-1))},dependencies:[F,R,j,N,U],styles:['.admin-section[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.admin-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:24px}.admin-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:20px;padding-bottom:10px;border-bottom:1px solid #dee2e6}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;padding-bottom:10px;border-bottom:1px solid #dee2e6}.tab-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:6px 6px 0 0;cursor:pointer;font-size:14px;font-weight:500;color:#495057;transition:all .3s ease}.tab-btn[_ngcontent-%COMP%]:hover:not(.active){background:#e9ecef}.tab-btn.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff;position:relative}.tab-btn.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:2px;background:#007bff}.tab-content[_ngcontent-%COMP%]{display:none}.tab-content.active[_ngcontent-%COMP%]{display:block}.admin-form[_ngcontent-%COMP%], .slide-form[_ngcontent-%COMP%], .about-section-edit[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;padding:25px;margin:25px 0;box-shadow:0 2px 10px #0000001a}.slide-form[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border:1px solid #ced4da;border-radius:4px;font-size:14px;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.image-url-input[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px;align-items:center}.image-url-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.image-url-input[_ngcontent-%COMP%]   .or-text[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;white-space:nowrap}.file-input-hidden[_ngcontent-%COMP%]{display:none}.image-preview[_ngcontent-%COMP%]{margin-bottom:15px;border:1px solid #dee2e6;border-radius:6px;padding:10px;background:#f8f9fa}.image-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;max-height:150px;object-fit:contain;border-radius:4px;margin-bottom:10px}.slides-list[_ngcontent-%COMP%]{margin-top:30px}.slides-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #f1f1f1}.slides-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#343a40}.slides-list[_ngcontent-%COMP%]   .slide-counter[_ngcontent-%COMP%]{padding:8px 12px;background:#f8f9fa;border-radius:4px;font-size:13px;color:#6c757d;border:1px solid #e9ecef}.slides-list[_ngcontent-%COMP%]   .slide-counter[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057;font-weight:600}.slides-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6c757d}.slides-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px;opacity:.5}.slide-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;padding:20px;margin-bottom:20px;display:grid;grid-template-columns:150px 1fr 100px;gap:20px;align-items:start;transition:all .3s ease}.slide-item[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #00000014;border-color:#cbd3da}.slide-item[_ngcontent-%COMP%]   .slide-preview[_ngcontent-%COMP%]{position:relative;border-radius:6px;overflow:hidden}.slide-item[_ngcontent-%COMP%]   .slide-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:100px;object-fit:cover;border-radius:6px;border:1px solid #e9ecef;background-color:#f8f9fa}.slide-item[_ngcontent-%COMP%]   .slide-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.slide-item[_ngcontent-%COMP%]   .slide-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #e9ecef;padding:10px 12px;font-size:13px}.slide-item[_ngcontent-%COMP%]   .slide-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100px}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:9px 12px;font-size:13px;font-weight:500;border-radius:4px;border:none;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:6px}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.about-section-edit[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:20px;transition:box-shadow .3s ease}.about-section-edit[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000000d}.about-section-edit[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.about-section-edit[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-bottom:15px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#545b62}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#bd2130}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1e7e34}.btn-changer[_ngcontent-%COMP%]{background-color:#e9bd0d;color:#fff}.btn-changer[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#a8881d}.btn-sm[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:25px;padding-top:20px;border-top:1px solid #dee2e6}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 30px #0003}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #dee2e6}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:#333}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#6c757d}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:15px 20px;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;gap:10px}@media(max-width:992px){.slide-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.slide-item[_ngcontent-%COMP%]   .slide-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:120px}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:flex-end}}@media(max-width:768px){.admin-section[_ngcontent-%COMP%]{padding:15px}.tabs[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{border-radius:4px;text-align:center}.tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]:after{display:none}.slides-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.about-section-edit[_ngcontent-%COMP%]{flex-direction:column}.about-section-edit[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{width:100%}.about-section-edit[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}.image-url-input[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.image-url-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .image-url-input[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.image-url-input[_ngcontent-%COMP%]   .or-text[_ngcontent-%COMP%]{text-align:center;margin:5px 0}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media(max-width:480px){.slide-item[_ngcontent-%COMP%]   .slide-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px}}@media(max-width:768px){.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]{gap:6px}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px!important;font-size:11px!important;min-height:32px;display:flex;align-items:center;justify-content:center}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{font-size:10px!important}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1), .slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){min-width:50px}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3), .slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){min-width:70px}}@media(max-width:480px){.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.slide-item[_ngcontent-%COMP%]   .slide-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important;padding:8px!important;font-size:12px!important;justify-content:center}}@media(max-width:768px){.about-section-edit[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.about-section-edit[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{width:100%!important}.about-section-edit[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%], .about-section-edit[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;box-sizing:border-box!important}.about-section-edit[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{width:100%!important}.about-section-edit[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}}']})};export{$ as AdminHomeComponent};
